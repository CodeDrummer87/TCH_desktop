IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE ID = OBJECT_ID(N'tchDb'))
USE tchDb;

GO

IF OBJECT_ID('Locomotives', 'u') IS NOT NULL
ALTER TABLE Locomotives
ALTER COLUMN Series INT

GO

IF OBJECT_ID('LocoSeries', 'u') IS NULL
CREATE TABLE LocoSeries
(
	Id INT IDENTITY(1, 1) PRIMARY KEY,
	SeriesFirst NVARCHAR(10),
	lIndex NVARCHAR(5) DEFAULT '',
	isUpperIndex TINYINT DEFAULT 1,
	SeriesSecond NVARCHAR(5) DEFAULT '',
	LocoType INT REFERENCES LocomotiveTypes (Id)
)

GO

IF OBJECT_ID('LocoSeries', 'u') IS NOT NULL
INSERT INTO LocoSeries
VALUES
	('Т', '', 1, '', 1),
	('Ф', '', 1, '', 1),
	('Ч', '', 1, '', 1),
	('О', '', 1, '', 1),
	('Х', '', 1, '', 1),
	('Е', 'Ф', 1, '', 1),
	('Ц', '', 1, '', 1),
	('Р', '', 1, '', 1),
	('Ш', '', 1, '', 1),
	('Щ', '', 1, '', 1),
	('Э', '', 1, '', 1),
	('Е', 'С', 1, '', 1),
	('Е', 'Ф', 1, '', 1),
	('Е', 'К', 1, '', 1),
	('Е', 'Л', 1, '', 1),
	('ФД20', '', 1, '', 1),
	('ФД', 'К', 1, '20', 1),
	('СО18', '', 1, '', 1),
	('ФД21', '', 1, '', 1),
	('ЛК', '', 1, '', 1),
	('ФД', 'Р', 1, '', 1),
	('Л', '', 1, '', 1),
	('СО', 'М', 1, '', 1),
	('ОР23', '', 1, '', 1),
	('ЛВ', '', 1, '', 1),
	('Л', '', 1, '', 1),
	('С', 'В', 1, '', 1),
	('С', 'У', 1, '', 1),
	('М', '', 1, '', 1),
	('ИС', '', 1, '', 1),
	('П36', '', 1, '', 1),

	('ТЭ2', '', 1, '', 2),
	('ТЭ3', '', 1, '', 2),
	('ТЭ4', '', 1, '', 2),
	('ТЭ5', '', 1, '', 2),
	('ТЭ10', '', 1, '', 2),
	('ТЭ50', '', 1, '', 2),
	('ТЭ3Л', '', 1, '', 2),
	('2ТЭ10', '', 1, '', 2),
	('2ТЭ10Л', '', 1, '', 2),
	('2ТЭ40', '', 1, '', 2),
	('М62', '', 1, '', 2),
	('ТЭ109', '', 1, '', 2),
	('2ТЭ116', '', 1, '', 2),
	('2ТЭ10В', '', 1, '', 2),
	('2ТЭ121', '', 1, '', 2),
	('2ТЭ10М', '', 1, '', 2),
	('3ТЭ10М', '', 1, '', 2),
	('2ТЭ10МК', '', 1, '', 2),
	('2ТЭ116А', '', 1, '', 2),
	('2ТЭ126', '', 1, '', 2),
	('2ТЭ10Г', '', 1, '', 2),
	('2ТЭ10У', '', 1, '', 2),
	('3ТЭ10У', '', 1, '', 2),
	('2ТЭ70', '', 1, '', 2),
	('2ТЭ25К', '', 1, '', 2),
	('2ТЭ25А', '', 1, '', 2),
	('2ТЭ116У', '', 1, '', 2),
	('2ТЭ25АМ', '', 1, '', 2),
	('ТЭ8', '', 1, '', 2),
	('2ТЭ25КМ', '', 1, '', 2),
	('ТГ16М', '', 1, '', 2),
	('3ТЭ25К2М', '', 1, '', 2),
	('2ТЭ25К3М', '', 1, '', 2),
	('3ТЭ25К3М', '', 1, '', 2),
	('ТЭ7', '', 1, '', 2),
	('ТЭП10', '', 1, '', 2),
	('ТЭП60', '', 1, '', 2),
	('ТГП50', '', 1, '', 2),
	('2ТЭП60', '', 1, '', 2),
	('ТЭП70', '', 1, '', 2),
	('ТЭП75', '', 1, '', 2),
	('ТЭП80', '', 1, '', 2),
	('ТЭП70БС', '', 1, '', 2),
	('ТЭП70У', '', 1, '', 2),
	('ТЭП150', '', 1, '', 2),
	('ТЭП33А', '', 1, '', 2),
	('ТГК', '', 1, '', 2),
	('ТГК2', '', 1, '', 2),
	('ТГМ1', '', 1, '', 2),
	('ТГМ2', '', 1, '', 2),
	('ТГМ3', '', 1, '', 2),
	('ТГМ4', '', 1, '', 2),
	('ТГМ4', 'А', 1, '', 2),
	('ТГМ4', 'Б', 1, '', 2),
	('ТГМ20', '', 1, '', 2),
	('ТГМ21', '', 1, '', 2),
	('ТГМ23', '', 1, '', 2),
	('ТГМ40', '', 1, '', 2),
	('ТЭМ1', '', 1, '', 2),
	('ТЭМ2', '', 1, '', 2),
	('ТЭМ3', '', 1, '', 2),
	('ТЭМ5', '', 1, '', 2),
	('ТЭМ6', '', 1, '', 2),
	('ТЭМ7', '', 1, '', 2),
	('ТЭМ9', '', 1, '', 2),
	('ТЭМ12', '', 1, '', 2),
	('ТЭМ14', '', 1, '', 2),
	('ТЭМ15', '', 1, '', 2),
	('ТЭМ18', '', 1, '', 2),
	('ТЭМ19', '', 1, '', 2),
	('ТЭМ21', '', 1, '', 2),
	('ТЭМ23', '', 1, '', 2),
	('ТЭМ28', '', 1, '', 2),
	('ТЭМ31', '', 1, '', 2),
	('ТЭМ-ТМХ', '', 1, '', 2),
	('ЧМЭ2', '', 1, '', 2),
	('ЧМЭ3', '', 1, '', 2),
	('ЧМЭ5', '', 1, '', 2),

	('ВЛ19', 'М', 1, '', 3),
	('ВЛ22', 'М', 1, '', 3),
	('Н8', '', 1, '', 3),
	('ВЛ8', '', 1, '', 3),
	('ВЛ23', '', 1, '', 3),
	('ЧС1', '', 1, '', 3),
	('ЧС2', '', 1, '', 3),
	('ЧС3', '', 1, '', 3),
	('ВЛ10', '', 1, '', 3),
	('ЧС2', 'Т', 1, '', 3),
	('ЧС2', 'М', 1, '', 3),
	('ВЛ8', 'В', 1, '', 3),
	('ВЛ23', 'И', 1, '', 3),
	('ВЛ12', '', 1, '', 3),
	('ВЛ10', 'У', 1, '', 3),
	('ЧС200', '', 1, '', 3),
	('ВЛ11', '', 1, '', 3),
	('ВЛ11', 'У', 1, '', 3),
	('ВЛ8', 'М', 1, '', 3),
	('ЧС6', '', 1, '', 3),
	('ЧС7', '', 1, '', 3),
	('ВЛ10', 'Н', 1, '', 3),
	('ВЛ11', '8', 0, '', 3),
	('ВЛ15', '', 1, '', 3),
	('ВЛ11', 'М', 1, '', 3),
	('ВЛ15', 'С', 1, '', 3),
	('ВЛ15', 'А', 1, '', 3),
	('ВЛ10-1', '', 1, '', 3),
	('ВЛ10', 'П', 1, '', 3),
	('ЧС2', 'К', 1, '', 3),
	('ВЛ10', 'К', 1, '', 3),
	('ЭП2К', '', 1, '', 3),
	('2ЭС4', 'К', 1, '', 3),
	('ВЛ11М', '4', 0, '', 3),
	('ВЛ11М', '5', 0, '', 3),
	('2ЭС6', '', 1, '', 3),
	('ВЛ11М', '6', 0, '', 3),
	('2ЭЛ4', '', 1, '', 3),
	('2ЭС10', '', 1, '', 3),
	('3ЭС4К', '', 1, '', 3),
	('3ЭС8', '', 1, '', 3),
	('ВЛ60', '', 1, '', 3),
	('ВЛ60', 'П', 1, '', 3),
	('ВЛ62', '', 1, '', 3),
	('ВЛ80', 'В', 1, '', 3),
	('ВЛ80', '', 1, '', 3),
	('ВЛ60', 'Р', 1, '', 3),
	('ВЛ60', 'К', 1, '', 3),
	('ВЛ60', 'П', 1, '', 3),
	('ВЛ80', 'К', 1, '', 3),
	('ЧС4', '', 1, '', 3),
	('ВЛ60П', 'К', 0, '', 3),
	('ВЛ60К', 'У', 0, '', 3),
	('ВЛ80', 'А', 1, '', 3),
	('ВЛ80', 'С', 1, '', 3),
	('ВЛ80', 'Т', 1, '', 3),
	('ВЛ80', 'Р', 1, '', 3),
	('ЧС4', 'Т', 1, '', 3),
	('ЧС8', '', 1, '', 3),
	('ВЛ85', '', 1, '', 3),
	('2ВЛ60', 'К', 1, '', 3),
	('ВЛ65', '', 1, '', 3),
	('ЭП1', '', 1, '', 3),
	('2ЭС5К', '', 1, '', 3),
	('ЭП1', 'М', 1, '', 3),
	('ЭП1', 'П', 1, '', 3),
	('Э5К', '', 1, '', 3),
	('3ЭС5К', '', 1, '', 3),
	('KZ4AC', '', 1, '', 3),
	('KZ8A', '', 1, '', 3),
	('KZ4AT', '', 1, '', 3),
	('2ЭС7', '', 1, '', 3),
	('4ЭС5К', '', 1, '', 3),
	('3ЭС5С', '', 1, '', 3),
	('ВЛ82', '', 1, '', 3),
	('ВЛ82', 'М', 1, '', 3),
	('ЭП20', '', 1, '', 3),

	('ГТ1h', '', 1, '', 4),
	('ГТ1', '', 1, '', 4),
	('ГП1', '', 1, '', 4)
