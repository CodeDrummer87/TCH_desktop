IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE ID = OBJECT_ID(N'tchDb'))
USE tchDb;

GO

IF OBJECT_ID('Locomotives', 'u') IS NOT NULL
ALTER TABLE Locomotives
ALTER COLUMN Series INT

GO

IF OBJECT_ID('LocoSeries', 'u') IS NULL
CREATE TABLE LocoSeries
(
	Id INT IDENTITY(1, 1) PRIMARY KEY,
	SeriesFirst NVARCHAR(10),
	lIndex NVARCHAR(5) DEFAULT '',
	isUpperIndex TINYINT DEFAULT 1,
	SeriesSecond NVARCHAR(5) DEFAULT '',
	LocoType INT REFERENCES LocomotiveTypes (Id)
)

GO

IF OBJECT_ID('LocoSeries', 'u') IS NOT NULL
INSERT INTO LocoSeries
VALUES
	('в', '', 1, '', 1),
	('д', '', 1, '', 1),
	('з', '', 1, '', 1),
	('Ю', '', 1, '', 1),
	('е', '', 1, '', 1),
	('Х', 'д', 1, '', 1),
	('ж', '', 1, '', 1),
	('а', '', 1, '', 1),
	('и', '', 1, '', 1),
	('й', '', 1, '', 1),
	('н', '', 1, '', 1),
	('Х', 'б', 1, '', 1),
	('Х', 'д', 1, '', 1),
	('Х', 'Ъ', 1, '', 1),
	('Х', 'Ы', 1, '', 1),
	('дФ20', '', 1, '', 1),
	('дФ', 'Ъ', 1, '20', 1),
	('бЮ18', '', 1, '', 1),
	('дФ21', '', 1, '', 1),
	('ЫЪ', '', 1, '', 1),
	('дФ', 'а', 1, '', 1),
	('Ы', '', 1, '', 1),
	('бЮ', 'Ь', 1, '', 1),
	('Юа23', '', 1, '', 1),
	('ЫТ', '', 1, '', 1),
	('Ы', '', 1, '', 1),
	('б', 'Т', 1, '', 1),
	('б', 'г', 1, '', 1),
	('Ь', '', 1, '', 1),
	('Шб', '', 1, '', 1),
	('Я36', '', 1, '', 1),

	('вн2', '', 1, '', 2),
	('вн3', '', 1, '', 2),
	('вн4', '', 1, '', 2),
	('вн5', '', 1, '', 2),
	('вн10', '', 1, '', 2),
	('вн50', '', 1, '', 2),
	('вн3Ы', '', 1, '', 2),
	('2вн10', '', 1, '', 2),
	('2вн10Ы', '', 1, '', 2),
	('2вн40', '', 1, '', 2),
	('Ь62', '', 1, '', 2),
	('вн109', '', 1, '', 2),
	('2вн116', '', 1, '', 2),
	('2вн10Т', '', 1, '', 2),
	('2вн121', '', 1, '', 2),
	('2вн10Ь', '', 1, '', 2),
	('3вн10Ь', '', 1, '', 2),
	('2вн10ЬЪ', '', 1, '', 2),
	('2вн116Р', '', 1, '', 2),
	('2вн126', '', 1, '', 2),
	('2вн10У', '', 1, '', 2),
	('2вн10г', '', 1, '', 2),
	('3вн10г', '', 1, '', 2),
	('2вн70', '', 1, '', 2),
	('2вн25Ъ', '', 1, '', 2),
	('2вн25Р', '', 1, '', 2),
	('2вн116г', '', 1, '', 2),
	('2вн25РЬ', '', 1, '', 2),
	('вн8', '', 1, '', 2),
	('2вн25ЪЬ', '', 1, '', 2),
	('вУ16Ь', '', 1, '', 2),
	('3вн25Ъ2Ь', '', 1, '', 2),
	('2вн25Ъ3Ь', '', 1, '', 2),
	('3вн25Ъ3Ь', '', 1, '', 2),
	('вн7', '', 1, '', 2),
	('внЯ10', '', 1, '', 2),
	('внЯ60', '', 1, '', 2),
	('вУЯ50', '', 1, '', 2),
	('2внЯ60', '', 1, '', 2),
	('внЯ70', '', 1, '', 2),
	('внЯ75', '', 1, '', 2),
	('внЯ80', '', 1, '', 2),
	('внЯ70Сб', '', 1, '', 2),
	('внЯ70г', '', 1, '', 2),
	('внЯ150', '', 1, '', 2),
	('внЯ33Р', '', 1, '', 2),
	('вУЪ', '', 1, '', 2),
	('вУЪ2', '', 1, '', 2),
	('вУЬ1', '', 1, '', 2),
	('вУЬ2', '', 1, '', 2),
	('вУЬ3', '', 1, '', 2),
	('вУЬ4', '', 1, '', 2),
	('вУЬ4', 'Р', 1, '', 2),
	('вУЬ4', 'С', 1, '', 2),
	('вУЬ20', '', 1, '', 2),
	('вУЬ21', '', 1, '', 2),
	('вУЬ23', '', 1, '', 2),
	('вУЬ40', '', 1, '', 2),
	('внЬ1', '', 1, '', 2),
	('внЬ2', '', 1, '', 2),
	('внЬ3', '', 1, '', 2),
	('внЬ5', '', 1, '', 2),
	('внЬ6', '', 1, '', 2),
	('внЬ7', '', 1, '', 2),
	('внЬ9', '', 1, '', 2),
	('внЬ12', '', 1, '', 2),
	('внЬ14', '', 1, '', 2),
	('внЬ15', '', 1, '', 2),
	('внЬ18', '', 1, '', 2),
	('внЬ19', '', 1, '', 2),
	('внЬ21', '', 1, '', 2),
	('внЬ23', '', 1, '', 2),
	('внЬ28', '', 1, '', 2),
	('внЬ31', '', 1, '', 2),
	('внЬ-вЬе', '', 1, '', 2),
	('зЬн2', '', 1, '', 2),
	('зЬн3', '', 1, '', 2),
	('зЬн5', '', 1, '', 2),

	('ТЫ19', 'Ь', 1, '', 3),
	('ТЫ22', 'Ь', 1, '', 3),
	('Э8', '', 1, '', 3),
	('ТЫ8', '', 1, '', 3),
	('ТЫ23', '', 1, '', 3),
	('зб1', '', 1, '', 3),
	('зб2', '', 1, '', 3),
	('зб3', '', 1, '', 3),
	('ТЫ10', '', 1, '', 3),
	('зб2', 'в', 1, '', 3),
	('зб2', 'Ь', 1, '', 3),
	('ТЫ8', 'Т', 1, '', 3),
	('ТЫ23', 'Ш', 1, '', 3),
	('ТЫ12', '', 1, '', 3),
	('ТЫ10', 'г', 1, '', 3),
	('зб200', '', 1, '', 3),
	('ТЫ11', '', 1, '', 3),
	('ТЫ11', 'г', 1, '', 3),
	('ТЫ8', 'Ь', 1, '', 3),
	('зб6', '', 1, '', 3),
	('зб7', '', 1, '', 3),
	('ТЫ10', 'Э', 1, '', 3),
	('ТЫ11', '8', 0, '', 3),
	('ТЫ15', '', 1, '', 3),
	('ТЫ11', 'Ь', 1, '', 3),
	('ТЫ15', 'б', 1, '', 3),
	('ТЫ15', 'Р', 1, '', 3),
	('ТЫ10-1', '', 1, '', 3),
	('ТЫ10', 'Я', 1, '', 3),
	('зб2', 'Ъ', 1, '', 3),
	('ТЫ10', 'Ъ', 1, '', 3),
	('нЯ2Ъ', '', 1, '', 3),
	('2нб4', 'Ъ', 1, '', 3),
	('ТЫ11Ь', '4', 0, '', 3),
	('ТЫ11Ь', '5', 0, '', 3),
	('2нб6', '', 1, '', 3),
	('ТЫ11Ь', '6', 0, '', 3),
	('2нЫ4', '', 1, '', 3),
	('2нб10', '', 1, '', 3),
	('3нб4Ъ', '', 1, '', 3),
	('3нб8', '', 1, '', 3),
	('ТЫ60', '', 1, '', 3),
	('ТЫ60', 'Я', 1, '', 3),
	('ТЫ62', '', 1, '', 3),
	('ТЫ80', 'Т', 1, '', 3),
	('ТЫ80', '', 1, '', 3),
	('ТЫ60', 'а', 1, '', 3),
	('ТЫ60', 'Ъ', 1, '', 3),
	('ТЫ60', 'Я', 1, '', 3),
	('ТЫ80', 'Ъ', 1, '', 3),
	('зб4', '', 1, '', 3),
	('ТЫ60Я', 'Ъ', 0, '', 3),
	('ТЫ60Ъ', 'г', 0, '', 3),
	('ТЫ80', 'Р', 1, '', 3),
	('ТЫ80', 'б', 1, '', 3),
	('ТЫ80', 'в', 1, '', 3),
	('ТЫ80', 'а', 1, '', 3),
	('зб4', 'в', 1, '', 3),
	('зб8', '', 1, '', 3),
	('ТЫ85', '', 1, '', 3),
	('2ТЫ60', 'Ъ', 1, '', 3),
	('ТЫ65', '', 1, '', 3),
	('нЯ1', '', 1, '', 3),
	('2нб5Ъ', '', 1, '', 3),
	('нЯ1', 'Ь', 1, '', 3),
	('нЯ1', 'Я', 1, '', 3),
	('н5Ъ', '', 1, '', 3),
	('3нб5Ъ', '', 1, '', 3),
	('KZ4AC', '', 1, '', 3),
	('KZ8A', '', 1, '', 3),
	('KZ4AT', '', 1, '', 3),
	('2нб7', '', 1, '', 3),
	('4нб5Ъ', '', 1, '', 3),
	('3нб5б', '', 1, '', 3),
	('ТЫ82', '', 1, '', 3),
	('ТЫ82', 'Ь', 1, '', 3),
	('нЯ20', '', 1, '', 3),

	('Ув1h', '', 1, '', 4),
	('Ув1', '', 1, '', 4),
	('УЯ1', '', 1, '', 4)
